export type LibraryLocale = "ar" | "en" | "tr";

const dict = {
  ar: {
    library: "المكتبة",
    categories: "الأقسام",
    free: "مجاني",
    paid: "مدفوع",
    requiresPurchase: "يتطلب شراء",
    preview: "معاينة",
    download: "تحميل",
    previewViews: "مشاهدات المعاينة",
    downloadClicks: "نقرات التحميل",
    downloadSuccess: "تنزيلات ناجحة",
    submitBook: "رفع كتاب",
    adminLibrary: "إدارة المكتبة",
    title: "العنوان",
    author: "المؤلف",
    description: "الوصف",
    toc: "الفهرس",
    category: "القسم",
    cover: "الغلاف",
    previewPdf: "PDF المعاينة (اختياري)",
    fullPdf: "PDF الكامل",
    price: "السعر",
    currency: "العملة",
    shelf: "الرف",
    scientific: "كتب علمية",
    prophetic: "طب نبوي",
    folk: "طب شعبي",
    submit: "إرسال",
    pendingNotice: "تم الإرسال وسيظهر بعد موافقة الإدارة.",
    loginRequired: "يلزم تسجيل الدخول",
    notAdmin: "هذه الصفحة للمدير فقط.",
    status: "الحالة",
    pending: "قيد المراجعة",
    approved: "مقبول",
    rejected: "مرفوض",
    reason: "سبب الرفض",
    save: "حفظ",
    approve: "اعتماد",
    reject: "رفض",
    banner: "بانر المكتبة",
    update: "تحديث",
    openCategory: "فتح القسم",
  },
  en: {
    library: "Library",
    categories: "Categories",
    free: "Free",
    paid: "Paid",
    requiresPurchase: "Purchase required",
    preview: "Preview",
    download: "Download",
    previewViews: "Preview views",
    downloadClicks: "Download clicks",
    downloadSuccess: "Successful downloads",
    submitBook: "Submit a book",
    adminLibrary: "Library Admin",
    title: "Title",
    author: "Author",
    description: "Description",
    toc: "TOC",
    category: "Category",
    cover: "Cover",
    previewPdf: "Preview PDF (optional)",
    fullPdf: "Full PDF",
    price: "Price",
    currency: "Currency",
    shelf: "Shelf",
    scientific: "Scientific",
    prophetic: "Prophetic medicine",
    folk: "Folk medicine",
    submit: "Submit",
    pendingNotice: "Submitted. It will appear after admin approval.",
    loginRequired: "Login required",
    notAdmin: "Admins only.",
    status: "Status",
    pending: "Pending",
    approved: "Approved",
    rejected: "Rejected",
    reason: "Reject reason",
    save: "Save",
    approve: "Approve",
    reject: "Reject",
    banner: "Library banner",
    update: "Update",
    openCategory: "Open category",
  },
  tr: {
    library: "Kütüphane",
    categories: "Kategoriler",
    free: "Ücretsiz",
    paid: "Ücretli",
    requiresPurchase: "Satın alma gerekli",
    preview: "Önizleme",
    download: "İndir",
    previewViews: "Önizleme görüntüleme",
    downloadClicks: "İndirme tıklaması",
    downloadSuccess: "Başarılı indirme",
    submitBook: "Kitap gönder",
    adminLibrary: "Kütüphane Yönetimi",
    title: "Başlık",
    author: "Yazar",
    description: "Açıklama",
    toc: "İçindekiler",
    category: "Kategori",
    cover: "Kapak",
    previewPdf: "Önizleme PDF (opsiyonel)",
    fullPdf: "Tam PDF",
    price: "Fiyat",
    currency: "Para birimi",
    shelf: "Raf",
    scientific: "Bilimsel",
    prophetic: "Nebevî tıp",
    folk: "Halk tıbbı",
    submit: "Gönder",
    pendingNotice: "Gönderildi. Yönetici onayından sonra görünecek.",
    loginRequired: "Giriş gerekli",
    notAdmin: "Sadece yöneticiler.",
    status: "Durum",
    pending: "Beklemede",
    approved: "Onaylandı",
    rejected: "Reddedildi",
    reason: "Red nedeni",
    save: "Kaydet",
    approve: "Onayla",
    reject: "Reddet",
    banner: "Kütüphane afişi",
    update: "Güncelle",
    openCategory: "Kategoriyi aç",
  },
} as const;

export function getLibraryLocale(): LibraryLocale {
  if (typeof window === "undefined") return "ar";
  const lang =
    document.documentElement.getAttribute("lang") ||
    (navigator.language || "ar").slice(0, 2);
  if (lang === "en" || lang === "tr" || lang === "ar") return lang;
  return "ar";
}

export function lt(key: keyof typeof dict.ar, locale?: LibraryLocale) {
  const loc = locale ?? getLibraryLocale();
  return dict[loc][key] ?? dict.ar[key];
}
